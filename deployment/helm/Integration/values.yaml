replicaCount: 1
name: claim-mapping-service

image:
  repository: registry.gitlab.com/gaia-x/data-infrastructure-federation-services/por
  name: claim-mapping-service
  # -- Image tag
  # Uses .Chart.AppVersion if empty
  tag: "latest"
  # -- Image sha, usually generated by the CI
  # Uses image.tag if empty
  sha: ""
  # -- Image pull policy
  pullPolicy: IfNotPresent
  # -- Image pull secret when internal image is used
  pullSecrets: key

podAnnotations: {}

resources:
  requests:
    cpu: 25m
    memory: 64Mi
  limits:
    cpu: 150m
    memory: 128Mi

service:
  port: 8080
  type: ClusterIP

server:
  http:
    host: ""
    port: 8080

ingress:
  enabled: true
  annotations:
    kubernetes.io/ingress.class: nginx
  hosts:
    - host: clam-mapping-service.gxfs.dev
      paths:
        - path: /
          port: 8080
  tls:
  #  - secretName: cert-manager-tls
  #    hosts:
  #      - test.example.io

config:
  tokenRolesPath: "$.realm_access.roles"
  tokenContextPath: "$"
  identityProviderOidURL: "https://sso-integration.gxfs.dev/realms/intranet"
  tsaURLs: 
  - default: "default policy URL"
  - fake: "fake policy URL"
  defaultClaims: ""
security:
  runAsNonRoot: false
  runAsUid: 1000
  runAsGid: 1000

postgres:
  superUser:
    usernameSecret:
      name: postgres-secret
      key: superuser-username
    passwordSecret:
      name: postgres-secret
      key: superuser-password
  # if not set, secret is created with specified username
  # usernameSecret:
  #   name: claim-mapping-service-secret
  #   key: postgres-username
  # passwordSecret:
  #   name: claim-mapping-service-secret
  #   key: postgres-password
  username: claimmappingservice
  database: claimmappingservice
  schema: public
  host:
    name: postgres-postgresql
    port: 5432
